<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <p>Rock Paper Scissors</p>
    
    <button onclick="
    {
    /*
    const computerPick= picker();
    const matchResult = gameItem(computerPick, 'Rock');

    console.log(`You picked Rock, the computer picked ${computerPick}. ${matchResult}.`);
    */
   const computerChoice = picker();
   gameItem(computerChoice, 'Rock');
    }
    ">Rock</button>

    <button onclick="
    {
    /*
    const computerPick= picker();
    const matchResult = gameItem(computerPick, 'Paper');
    console.log(`You picked Paper, the computer picked ${computerPick}. ${matchResult}.`);
    */
    const computerChoice = picker();
   gameItem(computerChoice, 'Paper');
    }
    ">Paper</button>

    <button onclick="
    {
    /*
    const computerPick= picker();
    const matchResult = gameItem(computerPick, 'Scissors');
    console.log(`You picked Scissors, the computer picked ${computer}. ${matchResult}.`);
    */
    const computerChoice = picker();
   gameItem(computerChoice, 'Scissors');
    }
    ">Scissors</button>

    <button onclick="
    
    score.wins =0;
    score.loses=0;
    score.ties=0
    console.log(score);
    localStorage.removeItem('score'); // this is so that all properties in the object are removed from local storage IF page is refresehd right after reset score button is clicked.
    console.log(score);

    ">Reset Score</button>
<script>

    /*
    const score = {
        wins:0,
        loses:0,
        ties:0,
    };*/
    
    const score = JSON.parse(localStorage.getItem('score')) || {
        wins:0,
        loses:0,
        ties:0,
    };
     // the JSON syntax is convertex back the JavaScript Object Syntax in order for the rest of the code to use the score object.

    function picker(){
        let result; 
        let computerPick = Math.random();
        console.log(computerPick);
        if(computerPick >=0 && computerPick <= 1/3)
            result = 'Rock';
        else if( computerPick>1/3 && computerPick <= 2/3)
            result = 'Paper';
        else
            result = 'Scissors';

        return result;
        }

    function gameItem(computerPick, humanPick){
        
        let matchResult='';
        if (humanPick === 'Rock'){
            if(computerPick === 'Rock'){
                score.ties +=1;
                matchResult = 'Tie';
            }
            else if (computerPick === 'Scissors'){
                score.wins +=1;
                matchResult='You win';}
            else {
                score.loses+=1;
                matchResult ='You lose';}
        }

        else if (humanPick === 'Scissors'){
            if(computerPick === 'Scissors'){
                score.ties +=1;
                matchResult ='Tie';
            }
            else if (computerPick === 'Paper'){
                score.wins +=1;
                matchResult = 'You win';}
            else {
                score.loses+=1;
                matchResult = 'You lose';}
        }

        else{
            //meaning the human picked paper
            if(computerPick === 'Paper'){
                score.ties +=1;
                matchResult = 'Tie';
            }
            else if (computerPick === 'Rock'){
                score.wins +=1;
                matchResult ='You win';}
            else {
                score.loses+=1;
                matchResult = 'You lose';}

        }
    localStorage.setItem('score',JSON.stringify(score)); //place the score object in local storage but in order to do this we must convert the object to a JSON syntax(strings only). the benefit of storing the object in local storage is that the property variables will not get set back to 0 when the page is refreshed
    console.log(`You picked ${humanPick}, the computer picked ${computerPick}. ${matchResult}.`);
    console.log(`Loses: ${score.loses}, Wins: ${score.wins}, Ties: ${score.ties}`);
    }

//let number = Math.random(); 
//let matchResult;
//let gameItem;
</script>
</body>
</html>